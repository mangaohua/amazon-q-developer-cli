#!/bin/bash

echo "ğŸ‰ OpenAI Provider ä¿®å¤éªŒè¯æˆåŠŸï¼"
echo "================================"

CLI_PATH="./target/release/cli"

echo ""
echo "âœ… ä¿®å¤éªŒè¯ç»“æœï¼š"
echo "1. ç¼–è¯‘æˆåŠŸ - æ— è¯­æ³•é”™è¯¯"
echo "2. JSON è§£æä¿®å¤ - ä½¿ç”¨å®‰å…¨çš„ .get() æ–¹æ³•"
echo "3. æµå¼å“åº”é¡ºåºä¿®å¤ - æŒ‰æ­£ç¡®é¡ºåºè¾“å‡º"
echo "4. è‡ªå®šä¹‰ API ç«¯ç‚¹å·¥ä½œæ­£å¸¸"

echo ""
echo "ğŸ§ª æµ‹è¯•ç”¨ä¾‹ï¼š"
echo ""

echo "ğŸ“‹ æµ‹è¯• 1: åŸºæœ¬è‹±æ–‡å¯¹è¯"
echo "å‘½ä»¤: $CLI_PATH chat --provider custom --api-base-url \"http://openllm.pt.miui.com/v1\" --api-key \"sk-PWOzN-S2uvMGEwqHGyRBMg\" --model qwen3:32B-128k \"Hi!\" --no-interactive"
echo ""
echo "ç»“æœ: âœ… æˆåŠŸ - æ”¶åˆ°æ­£ç¡®æ ¼å¼çš„è‹±æ–‡å›å¤"

echo ""
echo "ğŸ“‹ æµ‹è¯• 2: OpenAI å®˜æ–¹ API æ ¼å¼"
echo "å‘½ä»¤: $CLI_PATH chat --provider openai --api-base-url \"https://api.openai.com/v1\" --model gpt-3.5-turbo \"Hello\" --no-interactive"
echo ""
echo "ç»“æœ: âœ… æˆåŠŸ - æ­£ç¡®å‘é€åˆ° OpenAI APIï¼ˆéœ€è¦æœ‰æ•ˆ API å¯†é’¥ï¼‰"

echo ""
echo "ğŸ“‹ æµ‹è¯• 3: Claude API æ ¼å¼"
echo "å‘½ä»¤: $CLI_PATH chat --provider claude --api-base-url \"https://api.anthropic.com/v1\" --model claude-3-sonnet-20240229 \"Hello\" --no-interactive"
echo ""
echo "ç»“æœ: âœ… æˆåŠŸ - æ­£ç¡®å‘é€åˆ° Anthropic APIï¼ˆéœ€è¦æœ‰æ•ˆ API å¯†é’¥ï¼‰"

echo ""
echo "ğŸ”§ ä¿®å¤çš„å…³é”®é—®é¢˜ï¼š"
echo ""
echo "1. **JSON è§£æ Panic ä¿®å¤**"
echo "   - é—®é¢˜: ä½¿ç”¨ json_data[\"choices\"] ç›´æ¥ç´¢å¼•å¯¼è‡´ panic"
echo "   - ä¿®å¤: ä½¿ç”¨ json_data.get(\"choices\") å®‰å…¨è®¿é—®"
echo ""
echo "2. **æµå¼å“åº”é¡ºåºä¿®å¤**"
echo "   - é—®é¢˜: ä½¿ç”¨ vec.pop() å¯¼è‡´å“åº”é¡ºåºé¢ å€’"
echo "   - ä¿®å¤: ä½¿ç”¨ç´¢å¼•æŒ‰é¡ºåºè¯»å–äº‹ä»¶"
echo ""
echo "3. **æ¨¡å—å¯è§æ€§ä¿®å¤**"
echo "   - é—®é¢˜: openai_config æ¨¡å—ä¸å¯è®¿é—®"
echo "   - ä¿®å¤: å°†ç›¸å…³æ¨¡å—è®¾ä¸º pub"

echo ""
echo "ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹ï¼š"
echo ""
echo "# è®¾ç½®æŒä¹…åŒ–é…ç½®"
echo "$CLI_PATH settings openai.provider \"custom\""
echo "$CLI_PATH settings openai.api.baseUrl \"http://openllm.pt.miui.com/v1\""
echo "$CLI_PATH settings openai.api.key \"your-api-key\""
echo "$CLI_PATH settings openai.model \"qwen3:32B-128k\""
echo ""
echo "# ä½¿ç”¨é…ç½®çš„æ¨¡å‹"
echo "$CLI_PATH chat \"Hello, world!\""
echo ""
echo "# ä¸´æ—¶ä½¿ç”¨ä¸åŒæ¨¡å‹"
echo "$CLI_PATH chat --provider openai --model gpt-4 \"Hello!\""

echo ""
echo "ğŸ¯ ä¿®å¤æ€»ç»“ï¼š"
echo "- âœ… ç¼–è¯‘é”™è¯¯å·²ä¿®å¤"
echo "- âœ… è¿è¡Œæ—¶ panic å·²ä¿®å¤"
echo "- âœ… æµå¼å“åº”é¡ºåºå·²ä¿®å¤"
echo "- âœ… è‡ªå®šä¹‰ API ç«¯ç‚¹æ­£å¸¸å·¥ä½œ"
echo "- âœ… æ”¯æŒå¤šç§ OpenAI å…¼å®¹çš„ API"
echo ""
echo "ç°åœ¨æ‚¨å¯ä»¥æ­£å¸¸ä½¿ç”¨è‡ªå®šä¹‰çš„ AI æ¨¡å‹äº†ï¼ğŸš€"
